<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>tutorias.tests &mdash; Gestión de Tutorías 1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Gestión de Tutorías 1 documentation" href="../../index.html" />
    <link rel="up" title="Module code" href="../index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../index.html">Gestión de Tutorías 1 documentation</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for tutorias.tests</h1><div class="highlight"><pre>
<span class="c"># encoding:utf-8</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">User</span>
<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">TestCase</span><span class="p">,</span> <span class="n">Client</span>
<span class="kn">from</span> <span class="nn">mixer.backend.django</span> <span class="kn">import</span> <span class="n">mixer</span>
<span class="kn">from</span> <span class="nn">tutorias.models</span> <span class="kn">import</span> <span class="n">Horario</span><span class="p">,</span> <span class="n">Asignatura</span><span class="p">,</span> <span class="n">Reserva</span><span class="p">,</span> <span class="n">Grado</span>
<span class="kn">from</span> <span class="nn">views.horarios</span> <span class="kn">import</span> <span class="n">_introduce_horario</span><span class="p">,</span> <span class="n">_busca_dia_semana_horario</span>
<span class="kn">from</span> <span class="nn">tutorias.form</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">tutorias.ajax</span> <span class="kn">import</span> <span class="n">gethoras</span>


<div class="viewcode-block" id="inicializacion"><a class="viewcode-back" href="../../tests.html#tutorias.tests.inicializacion">[docs]</a><span class="k">def</span> <span class="nf">inicializacion</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Iniciación de los requisitos para los test</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="s">&quot;profesor@gmail.com&quot;</span><span class="p">,</span> <span class="n">es_profesor</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="s">&quot;alumno@gmail.com&quot;</span><span class="p">,</span> <span class="n">es_profesor</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>

    <span class="n">profesor</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
    <span class="n">profesor</span><span class="o">.</span><span class="n">set_password</span><span class="p">(</span><span class="mi">1234</span><span class="p">)</span>
    <span class="n">profesor</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="n">alumno</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">)</span>
    <span class="n">alumno</span><span class="o">.</span><span class="n">set_password</span><span class="p">(</span><span class="mi">1234</span><span class="p">)</span>
    <span class="n">alumno</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="n">admin</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
    <span class="n">admin</span><span class="o">.</span><span class="n">set_password</span><span class="p">(</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
    <span class="n">admin</span><span class="o">.</span><span class="n">is_staff</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">admin</span><span class="o">.</span><span class="n">is_superuser</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">admin</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

</div>
<div class="viewcode-block" id="UserTestCase"><a class="viewcode-back" href="../../tests.html#tutorias.tests.UserTestCase">[docs]</a><span class="k">class</span> <span class="nc">UserTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test del modelo User</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="UserTestCase.setUp"><a class="viewcode-back" href="../../tests.html#tutorias.tests.UserTestCase.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Inicialización de las variables necesarias</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">inicializacion</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="UserTestCase.test_user"><a class="viewcode-back" href="../../tests.html#tutorias.tests.UserTestCase.test_user">[docs]</a>    <span class="k">def</span> <span class="nf">test_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Los usuarios existen después de crearse</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">profesor</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="n">alumno</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">profesor</span><span class="o">.</span><span class="n">es_profesor</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">alumno</span><span class="o">.</span><span class="n">es_profesor</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="GradoTestCase"><a class="viewcode-back" href="../../tests.html#tutorias.tests.GradoTestCase">[docs]</a><span class="k">class</span> <span class="nc">GradoTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test del modelo Grado</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="GradoTestCase.setUp"><a class="viewcode-back" href="../../tests.html#tutorias.tests.GradoTestCase.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iniciación de los requisitos para los test de Grado</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Grado</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">titulo</span><span class="o">=</span><span class="s">&quot;GIISI&quot;</span><span class="p">,</span> <span class="n">identificador</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="GradoTestCase.test_grado"><a class="viewcode-back" href="../../tests.html#tutorias.tests.GradoTestCase.test_grado">[docs]</a>    <span class="k">def</span> <span class="nf">test_grado</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        El grado se guarda correctamente</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">grado</span> <span class="o">=</span> <span class="n">Grado</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">identificador</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">grado</span><span class="o">.</span><span class="n">titulo</span><span class="p">,</span> <span class="s">&quot;GIISI&quot;</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="HorarioTestCase"><a class="viewcode-back" href="../../tests.html#tutorias.tests.HorarioTestCase">[docs]</a><span class="k">class</span> <span class="nc">HorarioTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test del modelo Horario</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="HorarioTestCase.setUp"><a class="viewcode-back" href="../../tests.html#tutorias.tests.HorarioTestCase.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iniciación de los requisitos para los test de Horario</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="s">&quot;profesor@gmail.com&quot;</span><span class="p">,</span> <span class="n">es_profesor</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">profesor</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="n">hora_inicio</span><span class="o">=</span><span class="s">&quot;10:30&quot;</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">profesor</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="HorarioTestCase.test_horario"><a class="viewcode-back" href="../../tests.html#tutorias.tests.HorarioTestCase.test_horario">[docs]</a>    <span class="k">def</span> <span class="nf">test_horario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        El horario guarda correctamente el profesor que contiene el horario</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">horario</span> <span class="o">=</span> <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;L&#39;</span><span class="p">)</span>
        <span class="n">horario</span><span class="o">.</span><span class="n">__unicode__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">horario</span><span class="o">.</span><span class="n">profesor</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="s">&quot;profesor&quot;</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="AsignaturaTestCase"><a class="viewcode-back" href="../../tests.html#tutorias.tests.AsignaturaTestCase">[docs]</a><span class="k">class</span> <span class="nc">AsignaturaTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test del modelo Asignatura</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="AsignaturaTestCase.setUp"><a class="viewcode-back" href="../../tests.html#tutorias.tests.AsignaturaTestCase.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iniciación de los requisitos para los test de Asignatura</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="s">&quot;profesor@gmail.com&quot;</span><span class="p">,</span> <span class="n">es_profesor</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="s">&quot;alumno@gmail.com&quot;</span><span class="p">,</span> <span class="n">es_profesor</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="n">Grado</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">titulo</span><span class="o">=</span><span class="s">&quot;GIISI&quot;</span><span class="p">,</span> <span class="n">identificador</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">profesor</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="n">alumno</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">)</span>
        <span class="n">grado</span> <span class="o">=</span> <span class="n">Grado</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">identificador</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">Asignatura</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">nombre</span><span class="o">=</span><span class="s">&quot;Calidad&quot;</span><span class="p">,</span> <span class="n">codigo</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">grados</span><span class="o">=</span><span class="n">grado</span><span class="p">)</span>
        <span class="n">asignatura</span> <span class="o">=</span> <span class="n">Asignatura</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">codigo</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">asignatura</span><span class="o">.</span><span class="n">profesores</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">profesor</span><span class="p">)</span>
        <span class="n">asignatura</span><span class="o">.</span><span class="n">usuarios</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alumno</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="AsignaturaTestCase.test_asignatura"><a class="viewcode-back" href="../../tests.html#tutorias.tests.AsignaturaTestCase.test_asignatura">[docs]</a>    <span class="k">def</span> <span class="nf">test_asignatura</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        La asignatura guarda correctamente los alummos y profesores que la imparten</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">asignatura</span> <span class="o">=</span> <span class="n">Asignatura</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">codigo</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">asignatura</span><span class="o">.</span><span class="n">__unicode__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">asignatura</span><span class="o">.</span><span class="n">usuarios</span><span class="o">.</span><span class="n">all</span><span class="p">()),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">asignatura</span><span class="o">.</span><span class="n">profesores</span><span class="o">.</span><span class="n">all</span><span class="p">()),</span> <span class="mi">1</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="ReservaTestCase"><a class="viewcode-back" href="../../tests.html#tutorias.tests.ReservaTestCase">[docs]</a><span class="k">class</span> <span class="nc">ReservaTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test del modelo Reserva</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="ReservaTestCase.setUp"><a class="viewcode-back" href="../../tests.html#tutorias.tests.ReservaTestCase.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iniciación de los requisitos para los test de Reserva</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="s">&quot;profesor@gmail.com&quot;</span><span class="p">,</span> <span class="n">es_profesor</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">profesor</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="n">hora_inicio</span><span class="o">=</span><span class="s">&quot;10:30&quot;</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">profesor</span><span class="p">)</span>
        <span class="n">horario</span> <span class="o">=</span> <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;L&#39;</span><span class="p">)</span>
        <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="s">&quot;alumno@gmail.com&quot;</span><span class="p">,</span> <span class="n">es_profesor</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="n">alumno</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">)</span>
        <span class="n">dia</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">Reserva</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">estado</span><span class="o">=</span><span class="s">&quot;P&quot;</span><span class="p">,</span> <span class="n">mensajeAlumno</span><span class="o">=</span><span class="s">&quot;Necesito tutoría&quot;</span><span class="p">,</span> <span class="n">dia</span><span class="o">=</span><span class="n">dia</span><span class="p">,</span> <span class="n">alumnos</span><span class="o">=</span><span class="n">alumno</span><span class="p">,</span> <span class="n">horario</span><span class="o">=</span><span class="n">horario</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ReservaTestCase.test_horario"><a class="viewcode-back" href="../../tests.html#tutorias.tests.ReservaTestCase.test_horario">[docs]</a>    <span class="k">def</span> <span class="nf">test_horario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        La reserva se asigna al alumno correctamente.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">reserva</span> <span class="o">=</span> <span class="n">Reserva</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">estado</span><span class="o">=</span><span class="s">&quot;P&quot;</span><span class="p">)</span>
        <span class="n">reserva</span><span class="o">.</span><span class="n">__unicode__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">reserva</span><span class="o">.</span><span class="n">alumnos</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="s">&quot;alumno&quot;</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="UsuarioViewTestCase"><a class="viewcode-back" href="../../tests.html#tutorias.tests.UsuarioViewTestCase">[docs]</a><span class="k">class</span> <span class="nc">UsuarioViewTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test de las vistas de Usuario</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="UsuarioViewTestCase.setUp"><a class="viewcode-back" href="../../tests.html#tutorias.tests.UsuarioViewTestCase.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iniciación de los requisitos para los test de User.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">inicializacion</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="UsuarioViewTestCase.test_login"><a class="viewcode-back" href="../../tests.html#tutorias.tests.UsuarioViewTestCase.test_login">[docs]</a>    <span class="k">def</span> <span class="nf">test_login</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprobación de la vista user_login</span>

<span class="sd">        Comprueba que al no pasarle datos te muestra el login.</span>
<span class="sd">        Comprueba que al pasarle usuarios registrados te loguea.</span>
<span class="sd">        Comprueba que al ya estar logueado no vuelve a loguear.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;miPanel&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;user&#39;</span><span class="p">:</span> <span class="s">&#39;profesor&#39;</span><span class="p">,</span> <span class="s">&#39;password&#39;</span><span class="p">:</span> <span class="s">&#39;1234&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;miPanel&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;user&#39;</span><span class="p">:</span> <span class="s">&#39;profesor&#39;</span><span class="p">,</span> <span class="s">&#39;password&#39;</span><span class="p">:</span> <span class="s">&#39;1234&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;miPanel&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UsuarioViewTestCase.test_add_user"><a class="viewcode-back" href="../../tests.html#tutorias.tests.UsuarioViewTestCase.test_add_user">[docs]</a>    <span class="k">def</span> <span class="nf">test_add_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista add_user</span>

<span class="sd">        Comprueba que al agregar corretamente un usuario alumno te envía a agregarle asignaturas.</span>
<span class="sd">        Comprueba que al agregar correctamente un usuario profesor te envía a agregarle grados.</span>
<span class="sd">        Comprueba que si los datos no son válidos no registra.</span>
<span class="sd">        Comprueba que si no se le pasa datos te muestra el formulario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Grado</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">titulo</span><span class="o">=</span><span class="s">&quot;GIISI&quot;</span><span class="p">,</span> <span class="n">identificador</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/addUser/&#39;</span><span class="p">,</span>
                          <span class="p">{</span><span class="s">&#39;username&#39;</span><span class="p">:</span> <span class="s">&#39;prueba&#39;</span><span class="p">,</span> <span class="s">&#39;password&#39;</span><span class="p">:</span> <span class="s">&#39;1234&#39;</span><span class="p">,</span> <span class="s">&#39;first_name&#39;</span><span class="p">:</span> <span class="s">&#39;Nombre&#39;</span><span class="p">,</span> <span class="s">&#39;last_name&#39;</span><span class="p">:</span> <span class="s">&#39;Apellido&#39;</span><span class="p">,</span>
                           <span class="s">&#39;es_profesor&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;dni&#39;</span><span class="p">:</span> <span class="s">&#39;1234567W&#39;</span><span class="p">,</span> <span class="s">&#39;email&#39;</span><span class="p">:</span> <span class="s">&#39;prueba@gmail.com&#39;</span><span class="p">,</span> <span class="s">&#39;grado&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;addAsignaturasAlumno&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/addUser/&#39;</span><span class="p">,</span>
                          <span class="p">{</span><span class="s">&#39;username&#39;</span><span class="p">:</span> <span class="s">&#39;prueba2&#39;</span><span class="p">,</span> <span class="s">&#39;password&#39;</span><span class="p">:</span> <span class="s">&#39;1234&#39;</span><span class="p">,</span> <span class="s">&#39;first_name&#39;</span><span class="p">:</span> <span class="s">&#39;Nom2bre&#39;</span><span class="p">,</span> <span class="s">&#39;last_name&#39;</span><span class="p">:</span> <span class="s">&#39;Apelli2do&#39;</span><span class="p">,</span>
                           <span class="s">&#39;es_profesor&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;dni&#39;</span><span class="p">:</span> <span class="s">&#39;12345627W&#39;</span><span class="p">,</span> <span class="s">&#39;email&#39;</span><span class="p">:</span> <span class="s">&#39;pru2eba@gmail.com&#39;</span><span class="p">,</span> <span class="s">&#39;grado&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;addGradosProfesor&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/addUser/&#39;</span><span class="p">,</span>
                          <span class="p">{</span><span class="s">&#39;userame&#39;</span><span class="p">:</span> <span class="s">&#39;prueba&#39;</span><span class="p">,</span> <span class="s">&#39;pasord&#39;</span><span class="p">:</span> <span class="s">&#39;1234&#39;</span><span class="p">,</span> <span class="s">&#39;fit_name&#39;</span><span class="p">:</span> <span class="s">&#39;Nombre&#39;</span><span class="p">,</span> <span class="s">&#39;lastame&#39;</span><span class="p">:</span> <span class="s">&#39;Apellido&#39;</span><span class="p">,</span>
                           <span class="s">&#39;es_rofesor&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;dni&#39;</span><span class="p">:</span> <span class="s">&#39;1234567W&#39;</span><span class="p">,</span> <span class="s">&#39;emal&#39;</span><span class="p">:</span> <span class="s">&#39;prueba@gmail.com&#39;</span><span class="p">,</span> <span class="s">&#39;grao&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;grados&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/admin/addUser/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;grados&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UsuarioViewTestCase.test_remove_user"><a class="viewcode-back" href="../../tests.html#tutorias.tests.UsuarioViewTestCase.test_remove_user">[docs]</a>    <span class="k">def</span> <span class="nf">test_remove_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista remove_user.</span>

<span class="sd">        Comprueba que elimina correctamente un usuario existente.</span>
<span class="sd">        Comprueba que si no se le pasa datos te muestra el formulario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/removeUser/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;username&#39;</span><span class="p">:</span> <span class="s">&#39;alumno&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;miPanel&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/removeUser/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;users&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UsuarioViewTestCase.test_read_user"><a class="viewcode-back" href="../../tests.html#tutorias.tests.UsuarioViewTestCase.test_read_user">[docs]</a>    <span class="k">def</span> <span class="nf">test_read_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista read_user.</span>

<span class="sd">        Comprueba que devuelve el usuario consultado.</span>
<span class="sd">        Comprueba que si no se le pasa nada te muestra los usuarios.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/readUser/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;username&#39;</span><span class="p">:</span> <span class="s">&#39;profesor&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;profesor&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/readUser/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;usuarios&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/admin/readUser/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;page&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;usuarios&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/admin/readUser/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;page&#39;</span><span class="p">:</span> <span class="s">&#39;asd&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;usuarios&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UsuarioViewTestCase.test_update_user"><a class="viewcode-back" href="../../tests.html#tutorias.tests.UsuarioViewTestCase.test_update_user">[docs]</a>    <span class="k">def</span> <span class="nf">test_update_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista update_user.</span>

<span class="sd">        Comprueba que actualiza correctamente un usuario.</span>
<span class="sd">        Comprueba que si los datos no son correcto no lo actualiza.</span>
<span class="sd">        Comprueba que si no se le pasan datos, te muestra el formulario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/updateUser/&#39;</span><span class="p">,</span>
               <span class="p">{</span><span class="s">&#39;username&#39;</span><span class="p">:</span> <span class="s">&#39;alumno&#39;</span><span class="p">,</span> <span class="s">&#39;password&#39;</span><span class="p">:</span> <span class="s">&#39;1234&#39;</span><span class="p">,</span> <span class="s">&#39;first_name&#39;</span><span class="p">:</span> <span class="s">&#39;Actualizado&#39;</span><span class="p">,</span>
                <span class="s">&#39;last_name&#39;</span><span class="p">:</span> <span class="s">&#39;Apellido&#39;</span><span class="p">,</span>
                <span class="s">&#39;es_profesor&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;dni&#39;</span><span class="p">:</span> <span class="s">&#39;1234567W&#39;</span><span class="p">,</span> <span class="s">&#39;email&#39;</span><span class="p">:</span> <span class="s">&#39;prueba@gmail.com&#39;</span><span class="p">,</span> <span class="s">&#39;grado&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">usuario</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&#39;alumno&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">usuario</span><span class="o">.</span><span class="n">first_name</span><span class="p">,</span> <span class="s">&#39;Actualizado&#39;</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/updateUser/&#39;</span><span class="p">,</span>
                          <span class="p">{</span><span class="s">&#39;username&#39;</span><span class="p">:</span> <span class="s">&#39;alumno&#39;</span><span class="p">,</span> <span class="s">&#39;password&#39;</span><span class="p">:</span> <span class="s">&#39;1234&#39;</span><span class="p">,</span> <span class="s">&#39;first_name&#39;</span><span class="p">:</span> <span class="s">&#39;Actualizado&#39;</span><span class="p">,</span>
                           <span class="s">&#39;123&#39;</span><span class="p">:</span> <span class="s">&#39;Apellido&#39;</span><span class="p">,</span> <span class="s">&#39;es_profesor&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;dni&#39;</span><span class="p">:</span> <span class="s">&#39;1234567W&#39;</span><span class="p">,</span>
                           <span class="s">&#39;email&#39;</span><span class="p">:</span> <span class="s">&#39;prueba@gmail.com&#39;</span><span class="p">,</span> <span class="s">&#39;grado&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;usuario&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/admin/updateUser/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;username&#39;</span><span class="p">:</span> <span class="s">&#39;alumno&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;usuario&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UsuarioViewTestCase.test_logout"><a class="viewcode-back" href="../../tests.html#tutorias.tests.UsuarioViewTestCase.test_logout">[docs]</a>    <span class="k">def</span> <span class="nf">test_logout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista logout</span>

<span class="sd">        Comprueba que elimina la sesion del usuario</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/logout/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;/&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UsuarioViewTestCase.test_pedir_tutoria"><a class="viewcode-back" href="../../tests.html#tutorias.tests.UsuarioViewTestCase.test_pedir_tutoria">[docs]</a>    <span class="k">def</span> <span class="nf">test_pedir_tutoria</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista pedir_tutoria</span>

<span class="sd">        Comprueba que muestra las asignaturas al alumno logueado</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;1234&quot;</span><span class="p">)</span>
        <span class="n">al</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">)</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Asignatura</span><span class="p">,</span> <span class="n">usuarios</span><span class="o">=</span><span class="n">al</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">666</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/miPanel/pedirTutoria/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;profesores&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="PanelViewTestCase"><a class="viewcode-back" href="../../tests.html#tutorias.tests.PanelViewTestCase">[docs]</a><span class="k">class</span> <span class="nc">PanelViewTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test de las vistas de Panel</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="PanelViewTestCase.setUp"><a class="viewcode-back" href="../../tests.html#tutorias.tests.PanelViewTestCase.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iniciación de los requisitos para los test de User</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">inicializacion</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="PanelViewTestCase.test_mi_panel"><a class="viewcode-back" href="../../tests.html#tutorias.tests.PanelViewTestCase.test_mi_panel">[docs]</a>    <span class="k">def</span> <span class="nf">test_mi_panel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista mi_panel</span>

<span class="sd">        Comprueba que muestra las reservas del profesor si el usuario es un profesor</span>
<span class="sd">        Comprueba que muestra los datos del admin si el usuario es un admin</span>
<span class="sd">        Comprueba que muestra las opciones del alumno si el usuario es un alumno</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;1234&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/miPanel/&#39;</span><span class="p">)</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&#39;reservas&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;datos&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="n">c</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>

        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/miPanel/&#39;</span><span class="p">)</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&#39;usuarios&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;datos&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="n">c</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>

        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;1234&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/miPanel/&#39;</span><span class="p">)</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&#39;reservas&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PanelViewTestCase.test_add_asignaturas_alumnos"><a class="viewcode-back" href="../../tests.html#tutorias.tests.PanelViewTestCase.test_add_asignaturas_alumnos">[docs]</a>    <span class="k">def</span> <span class="nf">test_add_asignaturas_alumnos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista add_asignatura_alumnos</span>

<span class="sd">        Comprueba que si no se le pasa nada, se muestra el formulario.</span>
<span class="sd">        Comprueba que se dirige a añadir las asignaturas al alumno</span>
<span class="sd">        Comprueba que no te dirige a añadir las asignaturas al alumno si los datos no son correctos.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">grado</span> <span class="o">=</span> <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Grado</span><span class="p">,</span> <span class="n">titulo</span><span class="o">=</span><span class="s">&quot;GIISI&quot;</span><span class="p">,</span> <span class="n">identificador</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">alumno</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">)</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Asignatura</span><span class="p">,</span> <span class="n">grados</span><span class="o">=</span><span class="n">grado</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">session</span>
        <span class="n">session</span><span class="p">[</span><span class="s">&#39;alumno&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alumno</span><span class="o">.</span><span class="n">id</span>
        <span class="n">session</span><span class="p">[</span><span class="s">&#39;grado&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">session</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&quot;/miPanel/addAsignaturasAlumno/&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;asignaturas&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&quot;/miPanel/addAsignaturasAlumno/&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;choices&#39;</span><span class="p">:</span> <span class="s">&#39;error&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;asignaturas&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&quot;/miPanel/addAsignaturasAlumno/&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;choices&#39;</span><span class="p">:</span> <span class="s">&#39;10&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PanelViewTestCase.test_add_grados_profesor"><a class="viewcode-back" href="../../tests.html#tutorias.tests.PanelViewTestCase.test_add_grados_profesor">[docs]</a>    <span class="k">def</span> <span class="nf">test_add_grados_profesor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista add_grados_profesor</span>

<span class="sd">        Comprueba que si no se le pasan datos muestra el formulario.</span>
<span class="sd">        Comprueba que se muestra al añadir un profesor.</span>
<span class="sd">        Comprueba que si no se le pasan los datos correctamente no te dirige a añadir los grados.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">profesor</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Grado</span><span class="p">,</span> <span class="n">profesores</span><span class="o">=</span><span class="n">profesor</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">session</span>
        <span class="n">session</span><span class="p">[</span><span class="s">&#39;profesor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">profesor</span><span class="o">.</span><span class="n">id</span>
        <span class="n">session</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&quot;/miPanel/addGradosProfesor/&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;grados&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&quot;/miPanel/addGradosProfesor/&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;choices&#39;</span><span class="p">:</span> <span class="s">&#39;error&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;grados&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&quot;/miPanel/addGradosProfesor/&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;choices&#39;</span><span class="p">:</span> <span class="s">&#39;10&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PanelViewTestCase.test_add_asignaturas_profesor"><a class="viewcode-back" href="../../tests.html#tutorias.tests.PanelViewTestCase.test_add_asignaturas_profesor">[docs]</a>    <span class="k">def</span> <span class="nf">test_add_asignaturas_profesor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista add_asignaturas_profesor</span>

<span class="sd">        Comprueba que si los datos no son correcto no muestra los grados.</span>
<span class="sd">        Comprueba que se muestra al añadir un grado de profesor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">profesor</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="n">grado</span> <span class="o">=</span> <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Grado</span><span class="p">,</span> <span class="n">profesores</span><span class="o">=</span><span class="n">profesor</span><span class="p">,</span> <span class="n">titulo</span><span class="o">=</span><span class="s">&quot;Calidad&quot;</span><span class="p">)</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Asignatura</span><span class="p">,</span> <span class="n">grados</span><span class="o">=</span><span class="n">grado</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">session</span>
        <span class="n">session</span><span class="p">[</span><span class="s">&#39;profesor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">profesor</span><span class="o">.</span><span class="n">id</span>
        <span class="n">session</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&quot;/miPanel/addAsignaturasProfesor/&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;choices&#39;</span><span class="p">:</span> <span class="s">&#39;error&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;asignaturas&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;profesor&#39;</span><span class="p">],</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&quot;/miPanel/addAsignaturasProfesor/&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;choices&#39;</span><span class="p">:</span> <span class="s">&#39;10&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PanelViewTestCase.test_notificaciones_profesor"><a class="viewcode-back" href="../../tests.html#tutorias.tests.PanelViewTestCase.test_notificaciones_profesor">[docs]</a>    <span class="k">def</span> <span class="nf">test_notificaciones_profesor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista notificaciones_profesor</span>

<span class="sd">        Comprueba que acepta las reservas.</span>
<span class="sd">        Comprueba que declina las reservas.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">profesor</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Reserva</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">profesor</span><span class="p">,</span> <span class="n">estado</span><span class="o">=</span><span class="s">&#39;P&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Reserva</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">profesor</span><span class="p">,</span> <span class="n">estado</span><span class="o">=</span><span class="s">&#39;P&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;1234&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/miPanel/notificaciones/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;aceptar&#39;</span><span class="p">:</span> <span class="s">&#39;aceptar&#39;</span><span class="p">,</span> <span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;reservas&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/miPanel/notificaciones/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;declinar&#39;</span><span class="p">:</span> <span class="s">&#39;declinar&#39;</span><span class="p">,</span> <span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="s">&#39;2&#39;</span><span class="p">,</span> <span class="s">&#39;texto&#39;</span><span class="p">:</span> <span class="s">&#39;qwerty&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;reservas&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PanelViewTestCase.test_notificaciones_alumno"><a class="viewcode-back" href="../../tests.html#tutorias.tests.PanelViewTestCase.test_notificaciones_alumno">[docs]</a>    <span class="k">def</span> <span class="nf">test_notificaciones_alumno</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista notificaciones_alumno</span>

<span class="sd">        Comprueba que la vista notificaciones_alumno devuelve las reservas del alumno</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;1234&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/miPanel/notificacionesAlumno/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;reservas&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="GradoViewTestCase"><a class="viewcode-back" href="../../tests.html#tutorias.tests.GradoViewTestCase">[docs]</a><span class="k">class</span> <span class="nc">GradoViewTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test de las vistas de Grado</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="GradoViewTestCase.setUp"><a class="viewcode-back" href="../../tests.html#tutorias.tests.GradoViewTestCase.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iniciación de los requisitos para los test de Grados</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">admin</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">admin</span><span class="o">.</span><span class="n">set_password</span><span class="p">(</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">admin</span><span class="o">.</span><span class="n">is_staff</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">admin</span><span class="o">.</span><span class="n">is_superuser</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">admin</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="n">Grado</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">titulo</span><span class="o">=</span><span class="s">&quot;GIISI&quot;</span><span class="p">,</span> <span class="n">identificador</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="p">)</span>
        <span class="n">grado</span> <span class="o">=</span> <span class="n">Grado</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">titulo</span><span class="o">=</span><span class="s">&quot;GIISI&quot;</span><span class="p">)</span>
        <span class="n">grado</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="GradoViewTestCase.test_add_grado"><a class="viewcode-back" href="../../tests.html#tutorias.tests.GradoViewTestCase.test_add_grado">[docs]</a>    <span class="k">def</span> <span class="nf">test_add_grado</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista add_grado</span>

<span class="sd">        Método que comprueba si se agrega un grado correctamente</span>
<span class="sd">        Método que comprueba que si los datos no son correcto, no lo agrega</span>
<span class="sd">        Método que comprueba que si no se le pasan datos, te muestra el formulario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/addGrado/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;titulo&#39;</span><span class="p">:</span> <span class="s">&#39;GIISI&#39;</span><span class="p">,</span> <span class="s">&#39;identificador&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;miPanel&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/addGrado/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;prueba&#39;</span><span class="p">:</span> <span class="s">&#39;GIISI&#39;</span><span class="p">,</span> <span class="s">&#39;identificador&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;identificador&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;form&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/admin/addGrado/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;form&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="GradoViewTestCase.test_remove_grado"><a class="viewcode-back" href="../../tests.html#tutorias.tests.GradoViewTestCase.test_remove_grado">[docs]</a>    <span class="k">def</span> <span class="nf">test_remove_grado</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista remove_grado</span>

<span class="sd">        Método que comprueba si se elimina un grado correctamente</span>
<span class="sd">        Método que comprueba que si no se le pasan datos, muestra el formulario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">Grado</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/removeGrado/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;identificador&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;miPanel&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">Grado</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/removeGrado/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;form&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="GradoViewTestCase.test_read_grado"><a class="viewcode-back" href="../../tests.html#tutorias.tests.GradoViewTestCase.test_read_grado">[docs]</a>    <span class="k">def</span> <span class="nf">test_read_grado</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista read_grado</span>

<span class="sd">        Método que comprueba si se consulta un grado correctamente</span>
<span class="sd">        Método que comprueba que si no se le pasan datos, muestra el formulario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/readGrado/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;titulo&#39;</span><span class="p">:</span> <span class="s">&#39;GIISI&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;grado&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/readGrado/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;grados&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="GradoViewTestCase.test_update_grado"><a class="viewcode-back" href="../../tests.html#tutorias.tests.GradoViewTestCase.test_update_grado">[docs]</a>    <span class="k">def</span> <span class="nf">test_update_grado</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista update_grado</span>

<span class="sd">        Método que comprueba si se edita un grado correctamente</span>
<span class="sd">        Método que comprueba si los datos no son correcto no lo añade.</span>
<span class="sd">        Método que comprueba si no se le pasan datos, muestra el formulario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/updateGrado/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;titulo&#39;</span><span class="p">:</span> <span class="s">&#39;GIISIActualizado&#39;</span><span class="p">,</span> <span class="s">&#39;identificador&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">grado</span> <span class="o">=</span> <span class="n">Grado</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">identificador</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">grado</span><span class="o">.</span><span class="n">titulo</span><span class="p">,</span> <span class="s">&#39;GIISIActualizado&#39;</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/updateGrado/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;titu&#39;</span><span class="p">:</span> <span class="s">&#39;GIISIActualizado&#39;</span><span class="p">,</span> <span class="s">&#39;identificador&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;grado&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Grado</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/admin/updateGrado/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;grado&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestAsignatura"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestAsignatura">[docs]</a><span class="k">class</span> <span class="nc">TestAsignatura</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test de las vistas de Asignatura</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="TestAsignatura.setUp"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestAsignatura.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iniciación de los requisitos para los test de Asignaturas</span>

<span class="sd">        Se inicializa todos los objetos que serán necesarios para</span>
<span class="sd">        los tests de Asignatura</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">admin</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">admin</span><span class="o">.</span><span class="n">set_password</span><span class="p">(</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">admin</span><span class="o">.</span><span class="n">is_staff</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">admin</span><span class="o">.</span><span class="n">is_superuser</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">admin</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

        <span class="n">Grado</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">titulo</span><span class="o">=</span><span class="s">&quot;GIISI&quot;</span><span class="p">,</span> <span class="n">identificador</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="p">)</span>
        <span class="n">grado</span> <span class="o">=</span> <span class="n">Grado</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">titulo</span><span class="o">=</span><span class="s">&quot;GIISI&quot;</span><span class="p">)</span>

        <span class="n">profesor</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="n">profesor</span><span class="o">.</span><span class="n">es_profesor</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">profesor</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

        <span class="n">alumno</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">)</span>
        <span class="n">alumno</span><span class="o">.</span><span class="n">es_profesor</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">alumno</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

        <span class="n">alumno2</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno2&quot;</span><span class="p">)</span>
        <span class="n">alumno2</span><span class="o">.</span><span class="n">es_profesor</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">alumno2</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

        <span class="n">Reserva</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">estado</span><span class="o">=</span><span class="s">&quot;P&quot;</span><span class="p">,</span> <span class="n">mensajeAlumno</span><span class="o">=</span><span class="s">&quot;Tutoria12&quot;</span><span class="p">,</span>
                               <span class="n">dia</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span> <span class="mo">07</span><span class="p">,</span> <span class="mo">06</span><span class="p">),</span> <span class="n">alumnos</span><span class="o">=</span><span class="n">alumno2</span><span class="p">)</span>
        <span class="n">Reserva</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">estado</span><span class="o">=</span><span class="s">&quot;P&quot;</span><span class="p">,</span> <span class="n">mensajeAlumno</span><span class="o">=</span><span class="s">&quot;Tutoria22&quot;</span><span class="p">,</span>
                               <span class="n">dia</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="n">alumnos</span><span class="o">=</span><span class="n">alumno2</span><span class="p">)</span>

        <span class="n">Reserva</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">estado</span><span class="o">=</span><span class="s">&quot;P&quot;</span><span class="p">,</span> <span class="n">mensajeAlumno</span><span class="o">=</span><span class="s">&quot;Tutoria11&quot;</span><span class="p">,</span>
                               <span class="n">dia</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span> <span class="mo">03</span><span class="p">,</span> <span class="mo">06</span><span class="p">),</span> <span class="n">alumnos</span><span class="o">=</span><span class="n">alumno</span><span class="p">)</span>

        <span class="n">Asignatura</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">nombre</span><span class="o">=</span><span class="s">&quot;Calidad&quot;</span><span class="p">,</span> <span class="n">codigo</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">curso</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">grados</span><span class="o">=</span><span class="n">grado</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestAsignatura.test_add_asignatura"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestAsignatura.test_add_asignatura">[docs]</a>    <span class="k">def</span> <span class="nf">test_add_asignatura</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista add_asignatura</span>

<span class="sd">        Método que comprueba que se añade una asignatura correctamente</span>
<span class="sd">        Método que comprueba que si los datos no son correcto, no añade.</span>
<span class="sd">        Método que comprueba que si no se le pasan datos, muestra el formulario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Asignatura</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">codigo</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">Grado</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">identificador</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/addAsignatura/&#39;</span><span class="p">,</span>
                          <span class="p">{</span><span class="s">&#39;nombre&#39;</span><span class="p">:</span> <span class="s">&#39;Calidad&#39;</span><span class="p">,</span> <span class="s">&#39;codigo&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="s">&#39;curso&#39;</span><span class="p">:</span> <span class="s">&#39;4&#39;</span><span class="p">,</span> <span class="s">&#39;grado&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;miPanel&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/addAsignatura/&#39;</span><span class="p">,</span>
                          <span class="p">{</span><span class="s">&#39;nombr&#39;</span><span class="p">:</span> <span class="s">&#39;Calidad&#39;</span><span class="p">,</span> <span class="s">&#39;codigo&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="s">&#39;curso&#39;</span><span class="p">:</span> <span class="s">&#39;4&#39;</span><span class="p">,</span> <span class="s">&#39;grado&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;grados&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/admin/addAsignatura/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;grados&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestAsignatura.test_remove_asignatura"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestAsignatura.test_remove_asignatura">[docs]</a>    <span class="k">def</span> <span class="nf">test_remove_asignatura</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista remove_asignatura</span>

<span class="sd">        Método que comprueba que se elimina una asignatura correctamente</span>
<span class="sd">        Método que comprueba que si no se le pasan datos muestra el formulario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">Asignatura</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/removeAsignatura/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;identificador&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&#39;miPanel&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">Asignatura</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/removeAsignatura/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&#39;asignaturas&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestAsignatura.test_read_asignatura"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestAsignatura.test_read_asignatura">[docs]</a>    <span class="k">def</span> <span class="nf">test_read_asignatura</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista read_asignatura</span>

<span class="sd">        Método que comprueba que se puede consultar una asignatura correctamente</span>
<span class="sd">        Método que comprueba que si no se le pasan datos muestra todas las asignaturas</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/readAsignatura/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;nombre&#39;</span><span class="p">:</span> <span class="s">&#39;Calidad&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;asignatura&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/admin/readAsignatura/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;page&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;asignaturas&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/admin/readAsignatura/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;page&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;asignaturas&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/admin/readAsignatura/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;page&#39;</span><span class="p">:</span> <span class="s">&#39;asd&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;asignaturas&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestAsignatura.test_update_asignatura"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestAsignatura.test_update_asignatura">[docs]</a>    <span class="k">def</span> <span class="nf">test_update_asignatura</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista update_asignatura</span>

<span class="sd">        Método que comprueba que se edite una asignatura correctamente</span>
<span class="sd">        Método que comprueba que se si los datos no son correcto no lo actualiza.</span>
<span class="sd">        Método que comprueba que si no se le pasa dato, muestra el formulario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/updateAsignatura/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;nombre&#39;</span><span class="p">:</span> <span class="s">&#39;Calidad_UPDATE&#39;</span><span class="p">,</span> <span class="s">&#39;codigo&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="s">&#39;curso&#39;</span><span class="p">:</span> <span class="s">&#39;4&#39;</span><span class="p">,</span> <span class="s">&#39;grado&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">asignatura</span> <span class="o">=</span> <span class="n">Asignatura</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">codigo</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">asignatura</span><span class="o">.</span><span class="n">nombre</span><span class="p">,</span> <span class="s">&#39;Calidad_UPDATE&#39;</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/updateAsignatura/&#39;</span><span class="p">,</span>
                          <span class="p">{</span><span class="s">&#39;nomre&#39;</span><span class="p">:</span> <span class="s">&#39;Calidad_UPDATE&#39;</span><span class="p">,</span> <span class="s">&#39;codigo&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="s">&#39;curso&#39;</span><span class="p">:</span> <span class="s">&#39;4&#39;</span><span class="p">,</span> <span class="s">&#39;grado&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;asignatura&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Asignatura</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/admin/updateAsignatura/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="s">&#39;10&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;asignatura&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestAsignatura.test_metricas"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestAsignatura.test_metricas">[docs]</a>    <span class="k">def</span> <span class="nf">test_metricas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista métricas</span>

<span class="sd">        Método que comprueba que funciona correctamente la métrica del alumno con más números de reservas</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Grado</span><span class="p">)</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Grado</span><span class="p">)</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
        <span class="n">alumno2</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno2&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">Reserva</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">alumnos</span><span class="o">=</span><span class="n">alumno2</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/estadisticas/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">dic</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;alumno_dic&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">dic</span><span class="p">[</span><span class="s">&#39;num&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestHorario"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestHorario">[docs]</a><span class="k">class</span> <span class="nc">TestHorario</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test del View Horario</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="TestHorario.setUp"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestHorario.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iniciación de los requisitos para los test de la vista en la que interviene Horario</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">inicializacion</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="TestHorario.test_add_horario"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestHorario.test_add_horario">[docs]</a>    <span class="k">def</span> <span class="nf">test_add_horario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista add_horario</span>

<span class="sd">        Comprueba que redirige a miPanel si todo va bien.</span>
<span class="sd">        Comprueba que si los datos no son correcto, no añade.</span>
<span class="sd">        Comprueba que si no se le pasan datos, muestra el formulario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;1234&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/addHorario/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;dia_semana&#39;</span><span class="p">:</span> <span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="s">&#39;hora_inicio&#39;</span><span class="p">:</span> <span class="s">&#39;10:00&#39;</span><span class="p">,</span> <span class="s">&#39;hora_final&#39;</span><span class="p">:</span> <span class="s">&#39;10:30&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;miPanel&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/admin/addHorario/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;dia_mana&#39;</span><span class="p">:</span> <span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="s">&#39;hora_inicio&#39;</span><span class="p">:</span> <span class="s">&#39;10:00&#39;</span><span class="p">,</span> <span class="s">&#39;hora_final&#39;</span><span class="p">:</span> <span class="s">&#39;10:30&#39;</span><span class="p">})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;form&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/admin/addHorario/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;form&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestHorario.test__introduce_horario"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestHorario.test__introduce_horario">[docs]</a>    <span class="k">def</span> <span class="nf">test__introduce_horario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba el método auxiliar _introduce_horario</span>

<span class="sd">        Comprueba que se crean el numero de intervalos cada 15 minutos y guarda los horarios</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">usuario</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="n">date_inicio</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">(),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="n">date_fin</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">(),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mo">00</span><span class="p">))</span>
        <span class="n">numeroantes</span> <span class="o">=</span> <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
        <span class="n">_introduce_horario</span><span class="p">(</span><span class="n">usuario</span><span class="p">,</span> <span class="s">&quot;L&quot;</span><span class="p">,</span> <span class="n">date_inicio</span><span class="p">,</span> <span class="n">date_fin</span><span class="p">)</span>
        <span class="n">numerodespues</span> <span class="o">=</span> <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="n">numeroantes</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">==</span> <span class="n">numerodespues</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestHorario.test_eliminar_horario"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestHorario.test_eliminar_horario">[docs]</a>    <span class="k">def</span> <span class="nf">test_eliminar_horario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista eliminar_horario</span>

<span class="sd">        Comprueba que elimina el horario señalado.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;1234&quot;</span><span class="p">)</span>
        <span class="n">profesor</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="n">hora_inicio</span><span class="o">=</span><span class="s">&quot;12:30&quot;</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">profesor</span><span class="p">)</span>
        <span class="n">horario</span> <span class="o">=</span> <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;L&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">hora_inicio</span><span class="o">=</span><span class="s">&quot;12:30&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">profesor</span><span class="o">=</span><span class="n">profesor</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/miPanel/misHorarios/eliminar/&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">horario</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot;/&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;misHorarios&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="n">horario</span> <span class="o">=</span> <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;L&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">hora_inicio</span><span class="o">=</span><span class="s">&quot;12:30&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">profesor</span><span class="o">=</span><span class="n">profesor</span><span class="p">)</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">horario</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">test_mis_horario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;1234&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;/miPanel/misHorarios/&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;horarios&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

<div class="viewcode-block" id="TestHorario.test__busca_dia_semana_horario"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestHorario.test__busca_dia_semana_horario">[docs]</a>    <span class="k">def</span> <span class="nf">test__busca_dia_semana_horario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba el método auxiliar _busca_dia_semana_horario</span>

<span class="sd">        Comprueba que el método auxiliar crea la lista de dias de la semana con tutorias correctamente</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">usuario</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;M&#39;</span><span class="p">,</span> <span class="n">hora_inicio</span><span class="o">=</span><span class="s">&quot;12:30&quot;</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">usuario</span><span class="p">)</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Horario</span><span class="p">,</span> <span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">usuario</span><span class="p">)</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Horario</span><span class="p">,</span> <span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;X&#39;</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">usuario</span><span class="p">)</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Horario</span><span class="p">,</span> <span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;J&#39;</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">usuario</span><span class="p">)</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Horario</span><span class="p">,</span> <span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;V&#39;</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">usuario</span><span class="p">)</span>
        <span class="n">semana</span> <span class="o">=</span> <span class="n">_busca_dia_semana_horario</span><span class="p">(</span><span class="n">usuario</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">semana</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">semana</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">semana</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">semana</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">semana</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestHorario.test_horarios_profesores"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestHorario.test_horarios_profesores">[docs]</a>    <span class="k">def</span> <span class="nf">test_horarios_profesores</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista horarios_profesores</span>

<span class="sd">        Por cada horario de profesor con dia distinto tenemos dos dias en la lista</span>
<span class="sd">        Si creamos una reserva con una fecha pasada el context debe devolver una lista vacia</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;1234&quot;</span><span class="p">)</span>
        <span class="n">profesor</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;X&#39;</span><span class="p">,</span> <span class="n">hora_inicio</span><span class="o">=</span><span class="s">&quot;12:30&quot;</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">profesor</span><span class="p">)</span>
        <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;J&#39;</span><span class="p">,</span> <span class="n">hora_inicio</span><span class="o">=</span><span class="s">&quot;12:00&quot;</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">profesor</span><span class="p">)</span>
        <span class="n">h1</span> <span class="o">=</span> <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;X&#39;</span><span class="p">,</span> <span class="n">hora_inicio</span><span class="o">=</span><span class="s">&quot;12:30&quot;</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">profesor</span><span class="p">)</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Reserva</span><span class="p">,</span> <span class="n">estado</span><span class="o">=</span><span class="s">&#39;R&#39;</span><span class="p">,</span> <span class="n">horario</span><span class="o">=</span><span class="n">h1</span><span class="p">,</span> <span class="n">dia</span><span class="o">=</span><span class="s">&#39;2013-10-10&#39;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/profesores/&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">profesor</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot;/&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">profesor_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;profesor_id&#39;</span><span class="p">]</span>
        <span class="n">lista_dias</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;lista_dias&#39;</span><span class="p">]</span>
        <span class="n">reserva</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;reservas&#39;</span><span class="p">]</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">reserva</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">profesor_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">profesor</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lista_dias</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestHorario.test_reservar_tutoria"><a class="viewcode-back" href="../../tests.html#tutorias.tests.TestHorario.test_reservar_tutoria">[docs]</a>    <span class="k">def</span> <span class="nf">test_reservar_tutoria</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba la vista reservar_tutoria</span>

<span class="sd">        Comprueba que redirige a miPanel si todo va bien.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;alumno&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">&quot;1234&quot;</span><span class="p">)</span>
        <span class="n">profesor</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;X&#39;</span><span class="p">,</span> <span class="n">hora_inicio</span><span class="o">=</span><span class="s">&quot;20:30&quot;</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">profesor</span><span class="p">)</span>
        <span class="n">horario</span> <span class="o">=</span> <span class="n">Horario</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;X&#39;</span><span class="p">,</span> <span class="n">hora_inicio</span><span class="o">=</span><span class="s">&quot;20:30&quot;</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">profesor</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/miPanel/reservarTutoria&#39;</span><span class="p">,</span>
                          <span class="p">{</span><span class="s">&#39;mensajealumno&#39;</span><span class="p">:</span> <span class="s">&#39;hola&#39;</span><span class="p">,</span> <span class="s">&#39;dia&#39;</span><span class="p">:</span> <span class="s">&#39;12-12-2014&#39;</span><span class="p">,</span> <span class="s">&#39;horario_id&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">horario</span><span class="o">.</span><span class="n">id</span><span class="p">)})</span>

        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;miPanel&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;/miPanel/reservarTutoria&#39;</span><span class="p">,</span>
                          <span class="p">{</span><span class="s">&#39;mensajelumno&#39;</span><span class="p">:</span> <span class="s">&#39;hola&#39;</span><span class="p">,</span> <span class="s">&#39;dia&#39;</span><span class="p">:</span> <span class="s">&#39;12-12-2014&#39;</span><span class="p">,</span> <span class="s">&#39;horario_id&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">horario</span><span class="o">.</span><span class="n">id</span><span class="p">)})</span>

        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="s">&quot;form&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">context</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="FormTest"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest">[docs]</a><span class="k">class</span> <span class="nc">FormTest</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test de los formularios del archivo Form.py</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="FormTest.test_UserForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_UserForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_UserForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form UserForm recibe los datos correctamente.</span>
<span class="sd">        Comprueba que el Dni no puede tener más de 10 caracteres.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">UserForm</span><span class="p">(</span>
            <span class="p">{</span><span class="s">&#39;username&#39;</span><span class="p">:</span> <span class="s">&#39;Alumno&#39;</span><span class="p">,</span> <span class="s">&#39;first_name&#39;</span><span class="p">:</span> <span class="s">&#39;Name&#39;</span><span class="p">,</span> <span class="s">&#39;last_name&#39;</span><span class="p">:</span> <span class="s">&#39;LastName&#39;</span><span class="p">,</span> <span class="s">&#39;email&#39;</span><span class="p">:</span> <span class="s">&#39;alumno@gmail.com&#39;</span><span class="p">,</span>
             <span class="s">&#39;password&#39;</span><span class="p">:</span> <span class="s">&#39;Password&#39;</span><span class="p">,</span> <span class="s">&#39;es_profesor&#39;</span><span class="p">:</span> <span class="s">&#39;True&#39;</span><span class="p">,</span> <span class="s">&#39;dni&#39;</span><span class="p">:</span> <span class="s">&#39;1234123&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">form</span> <span class="o">=</span> <span class="n">UserForm</span><span class="p">(</span>
            <span class="p">{</span><span class="s">&#39;username&#39;</span><span class="p">:</span> <span class="s">&#39;Alumno&#39;</span><span class="p">,</span> <span class="s">&#39;first_name&#39;</span><span class="p">:</span> <span class="s">&#39;Name&#39;</span><span class="p">,</span> <span class="s">&#39;last_name&#39;</span><span class="p">:</span> <span class="s">&#39;LastName&#39;</span><span class="p">,</span> <span class="s">&#39;email&#39;</span><span class="p">:</span> <span class="s">&#39;alumno@gmail.com&#39;</span><span class="p">,</span>
             <span class="s">&#39;password&#39;</span><span class="p">:</span> <span class="s">&#39;Password&#39;</span><span class="p">,</span> <span class="s">&#39;es_profesor&#39;</span><span class="p">:</span> <span class="s">&#39;True&#39;</span><span class="p">,</span> <span class="s">&#39;dni&#39;</span><span class="p">:</span> <span class="s">&#39;123412312123213213123123&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">False</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FormTest.test_UserRemoveForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_UserRemoveForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_UserRemoveForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form UserRemoveForm recibe los datos correctamente.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">UserRemoveForm</span><span class="p">({</span><span class="s">&#39;username&#39;</span><span class="p">:</span> <span class="s">&#39;Alumno&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FormTest.test_UserReadForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_UserReadForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_UserReadForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form UserReadForm recibe los datos correctamente.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">UserReadForm</span><span class="p">({</span><span class="s">&#39;username&#39;</span><span class="p">:</span> <span class="s">&#39;Alumno&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FormTest.test_UserUpdateForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_UserUpdateForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_UserUpdateForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form UserUpdateForm recibe los datos correctamente.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">UserUpdateForm</span><span class="p">(</span>
            <span class="p">{</span><span class="s">&#39;username&#39;</span><span class="p">:</span> <span class="s">&#39;Alumno&#39;</span><span class="p">,</span> <span class="s">&#39;first_name&#39;</span><span class="p">:</span> <span class="s">&#39;Name&#39;</span><span class="p">,</span> <span class="s">&#39;last_name&#39;</span><span class="p">:</span> <span class="s">&#39;LastName&#39;</span><span class="p">,</span> <span class="s">&#39;email&#39;</span><span class="p">:</span> <span class="s">&#39;alumno@gmail.com&#39;</span><span class="p">,</span>
             <span class="s">&#39;password&#39;</span><span class="p">:</span> <span class="s">&#39;Password&#39;</span><span class="p">,</span> <span class="s">&#39;es_profesor&#39;</span><span class="p">:</span> <span class="s">&#39;True&#39;</span><span class="p">,</span> <span class="s">&#39;dni&#39;</span><span class="p">:</span> <span class="s">&#39;1234123&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FormTest.test_GradoForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_GradoForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_GradoForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form GradoForm recibe los datos correctamente.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">GradoForm</span><span class="p">({</span><span class="s">&#39;titulo&#39;</span><span class="p">:</span> <span class="s">&#39;GIISI&#39;</span><span class="p">,</span> <span class="s">&#39;identificador&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FormTest.test_GradoRemoveForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_GradoRemoveForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_GradoRemoveForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form GradoRemoveForm recibe los datos correctamente.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">GradoRemoveForm</span><span class="p">({</span><span class="s">&#39;identificador&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FormTest.test_GradoReadForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_GradoReadForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_GradoReadForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form GradoReadForm recibe los datos correctamente.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">GradoReadForm</span><span class="p">({</span><span class="s">&#39;titulo&#39;</span><span class="p">:</span> <span class="s">&#39;GIISI&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FormTest.test_GradoUpdateForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_GradoUpdateForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_GradoUpdateForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form GradoUpdateForm recibe los datos correctamente.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">GradoUpdateForm</span><span class="p">({</span><span class="s">&#39;titulo&#39;</span><span class="p">:</span> <span class="s">&#39;GIISI&#39;</span><span class="p">,</span> <span class="s">&#39;identificador&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FormTest.test_HorarioForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_HorarioForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_HorarioForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form HorarioForm recibe los datos correctamente.</span>

<span class="sd">        Comprueba que la semana tiene que estar dentro del choice, L,M,X,J,V</span>
<span class="sd">        Comprueba que la hora de inicio y la hora de fin tiene formato de horas.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">HorarioForm</span><span class="p">({</span><span class="s">&#39;dia_semana&#39;</span><span class="p">:</span> <span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="s">&#39;hora_inicio&#39;</span><span class="p">:</span> <span class="s">&#39;10:30&#39;</span><span class="p">,</span> <span class="s">&#39;hora_final&#39;</span><span class="p">:</span> <span class="s">&#39;12:30&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">form</span> <span class="o">=</span> <span class="n">HorarioForm</span><span class="p">({</span><span class="s">&#39;dia_semana&#39;</span><span class="p">:</span> <span class="s">&#39;G&#39;</span><span class="p">,</span> <span class="s">&#39;hora_inicio&#39;</span><span class="p">:</span> <span class="s">&#39;10:30&#39;</span><span class="p">,</span> <span class="s">&#39;hora_final&#39;</span><span class="p">:</span> <span class="s">&#39;12:30&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">False</span><span class="p">)</span>

        <span class="n">form</span> <span class="o">=</span> <span class="n">HorarioForm</span><span class="p">({</span><span class="s">&#39;dia_semana&#39;</span><span class="p">:</span> <span class="s">&#39;L&#39;</span><span class="p">,</span> <span class="s">&#39;hora_inicio&#39;</span><span class="p">:</span> <span class="s">&#39;30&#39;</span><span class="p">,</span> <span class="s">&#39;hora_final&#39;</span><span class="p">:</span> <span class="s">&#39;12:30&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">False</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FormTest.test_AsignaturaForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_AsignaturaForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_AsignaturaForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form AsignaturaForm recibe los datos correctamente.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">AsignaturaForm</span><span class="p">({</span><span class="s">&#39;nombre&#39;</span><span class="p">:</span> <span class="s">&#39;Calidad&#39;</span><span class="p">,</span> <span class="s">&#39;codigo&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="s">&#39;curso&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="s">&#39;grado&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FormTest.test_AsignaturaRemoveForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_AsignaturaRemoveForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_AsignaturaRemoveForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form AsignaturaRemoveForm recibe los datos correctamente.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">AsignaturaRemoveForm</span><span class="p">({</span><span class="s">&#39;identificador&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FormTest.test_AsignaturaReadForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_AsignaturaReadForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_AsignaturaReadForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form AsignaturaReadForm recibe los datos correctamente.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">AsignaturaReadForm</span><span class="p">({</span><span class="s">&#39;nombre&#39;</span><span class="p">:</span> <span class="s">&#39;Calidad&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FormTest.test_AsignaturasUpdateForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_AsignaturasUpdateForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_AsignaturasUpdateForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form AsignaturaupdateForm recibe los datos correctamente.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">AsignaturaUpdateForm</span><span class="p">({</span><span class="s">&#39;nombre&#39;</span><span class="p">:</span> <span class="s">&#39;Calidad&#39;</span><span class="p">,</span> <span class="s">&#39;curso&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="s">&#39;codigo&#39;</span><span class="p">:</span> <span class="s">&#39;12&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FormTest.test_ReservaTutoriasForm"><a class="viewcode-back" href="../../tests.html#tutorias.tests.FormTest.test_ReservaTutoriasForm">[docs]</a>    <span class="k">def</span> <span class="nf">test_ReservaTutoriasForm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que el form ReservaTutoriasForm recibe los datos correctamente.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">ReservaTutoriasForm</span><span class="p">({</span><span class="s">&#39;mensajealumno&#39;</span><span class="p">:</span> <span class="s">&#39;Prueba&#39;</span><span class="p">,</span> <span class="s">&#39;dia&#39;</span><span class="p">:</span> <span class="s">&#39;3&#39;</span><span class="p">,</span> <span class="s">&#39;horario_id&#39;</span><span class="p">:</span> <span class="s">&#39;3&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="AjaxTest"><a class="viewcode-back" href="../../tests.html#tutorias.tests.AjaxTest">[docs]</a><span class="k">class</span> <span class="nc">AjaxTest</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test que comprueba la funcionalidad ajax de la aplicación</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="AjaxTest.setUp"><a class="viewcode-back" href="../../tests.html#tutorias.tests.AjaxTest.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Inicialización de las variables necesarias</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">inicializacion</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="AjaxTest.test_gethoras"><a class="viewcode-back" href="../../tests.html#tutorias.tests.AjaxTest.test_gethoras">[docs]</a>    <span class="k">def</span> <span class="nf">test_gethoras</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Comprueba que devuelve los json esperados en funcion de los datos de entrada</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">profesor</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">&quot;profesor&quot;</span><span class="p">)</span>
        <span class="c"># data diccionario {&#39;alumno&#39;: 3, &#39;profesor&#39;: 5, &#39;dia&#39;: u&#39;12-12-2014&#39;}</span>
        <span class="n">horario</span> <span class="o">=</span> <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Horario</span><span class="p">,</span> <span class="n">profesor</span><span class="o">=</span><span class="n">profesor</span><span class="p">,</span> <span class="n">dia_semana</span><span class="o">=</span><span class="s">&#39;V&#39;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;alumno&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&#39;profesor&#39;</span><span class="p">:</span> <span class="n">profesor</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s">&#39;dia&#39;</span><span class="p">:</span> <span class="s">&#39;12-12-2014&#39;</span><span class="p">}</span>
        <span class="n">respuesta</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">gethoras</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">profesor</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">respuesta</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">horario</span><span class="o">.</span><span class="n">hora_inicio</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">],</span> <span class="n">respuesta</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">mixer</span><span class="o">.</span><span class="n">blend</span><span class="p">(</span><span class="n">Reserva</span><span class="p">,</span> <span class="n">horario</span><span class="o">=</span><span class="n">horario</span><span class="p">,</span> <span class="n">dia</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
        <span class="n">respuesta</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">gethoras</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">))</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">respuesta</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span></div></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo_tutorias.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../index.html">Gestión de Tutorías 1 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Equipo 01: Los 4 Fantásticos.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3b1.
    </div>
  </body>
</html>