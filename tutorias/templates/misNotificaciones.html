<!DOCTYPE html>
<html>
<head lang="es">
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/tutoria.css" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Mis notificaciones</title>
</head>
<body>
<div class="container">
    <div class="col-lg-12 tituloLogin text-center">
        <img src="/static/img/logo2.png"/>
    </div>

    <div class="row">
        <div class="col-md-8 col-md-offset-2">
            <h2>Reservas por confirmar</h2>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>D&iacute;a</th>
                    <th>Horario</th>
                    <th>Alumno</th>
                    <th>Mensaje</th>
                    <th>Aceptar</th>
                    <th>Declinar</th>
                </tr>
                </thead>
                <tbody>
                {% for notificacion in notificaciones %}
                <tr>
                    <td>{{notificacion.dia}}</td>
                    <td>{{notificacion.horario}}</td>
                    <td>{{notificacion.alumnos}}</td>
                    <td>{{notificacion.mensajeAlumno}}</td>
                    <form action="{% url 'notificaciones_profesor' %}" method="POST"> {% csrf_token %}
                        <input type="hidden" name="id" value="{{notificacion.id}}"/>
                        <td>
                            <button class="btn btn-success" name="aceptar">Aceptar</button>
                        </td>
                        <td><input type="text" name="texto"/></td>
                        <td>
                            <button class="btn btn-danger" name="declinar">Declinar</button>
                        </td>
                    </form>
                </tr>
                {% endfor %}
                </tbody>
            </table>

            <h2>Reservas Confirmadas</h2>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>D&iacute;a</th>
                    <th>Horario</th>
                    <th>Alumno</th>
                    <th>Mensaje</th>
                </tr>
                </thead>
                <tbody>
                {% for reserva in reservas%}
                <tr>
                    <td>{{reserva.dia}}</td>
                    <td>{{reserva.horario}}</td>
                    <td>{{reserva.alumnos}}</td>
                    <td>{{reserva.mensajeAlumno}}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>

            <h2>Historial Aceptadas</h2>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>D&iacute;a</th>
                    <th>Horario</th>
                    <th>Alumno</th>
                    <th>Mensaje</th>
                </tr>
                </thead>
                <tbody>
                {% for acept in aceptadas%}
                <tr>
                    <td>{{acept.dia}}</td>
                    <td>{{acept.horario}}</td>
                    <td>{{acept.alumnos}}</td>
                    <td>{{acept.mensajeAlumno}}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>

            {% if aceptadas|length > 0 %}
            <div class="pagination">
            <span class="step-links">
            {% if aceptadas.has_previous %}
                <a href="?page_a={{ aceptadas.previous_page_number }}">Anterior</a>
            {% endif %}

                <span class="current">
                    P&aacute;gina {{ aceptadas.number }} de {{ aceptadas.paginator.num_pages }}.
                </span>

            {% if aceptadas.has_next %}
                <a href="?page_a={{ aceptadas.next_page_number }}">Siguiente</a>
            {% endif %}
            </span>
            </div>

            {% endif %}

            <h2>Historial Canceladas</h2>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>D&iacute;a</th>
                    <th>Horario</th>
                    <th>Alumno</th>
                    <th>Mensaje</th>
                    <th>Mensaje Profesor</th>
                </tr>
                </thead>
                <tbody>
                {% for canc in canceladas%}
                <tr>
                    <td>{{canc.dia}}</td>
                    <td>{{canc.horario}}</td>
                    <td>{{canc.alumnos}}</td>
                    <td>{{canc.mensajeAlumno}}</td>
                    <td>{{canc.mensajeCancel}}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
            {% if canceladas|length > 0 %}
            <div class="pagination">
            <span class="step-links">
            {% if canceladas.has_previous %}
                <a href="?page_c={{ canceladas.previous_page_number }}">Anterior</a>
            {% endif %}

                <span class="current">
                    P&aacute;gina {{ canceladas.number }} de {{ canceladas.paginator.num_pages }}.
                </span>

            {% if canceladas.has_next %}
                <a href="?page_c={{ canceladas.next_page_number }}">Siguiente</a>
            {% endif %}
            </span>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="col-md-offset-10 col-md-2">
        <a href="{% url 'miPanel' %}">Volver</a> |
        <a href="{% url 'logout' %}">Logout</a>
    </div>
</div>
<!-- /container -->
<script src="./js/bootstrap.min.js"></script>
</body>
</html>